---
title: "flex_template"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
```
Page 1
=====================================  
Column {data-width=350}
-----------------------------------------------------------------------


### Chart A

```{r}
library(plotly)
library(dplyr)
library(sf)
library(elevatr)
library(forcats)

# Read in the National Park centroid data
np_centroid <- read_sf("Raw_Data/NPS_Centroid/")

# Extract longitude and latitude from geometry
np_centroid <- np_centroid %>%
  mutate(
    lon = st_coordinates(geometry)[, 1],  # Longitude
    lat = st_coordinates(geometry)[, 2]  # Latitude
  )

# Get elevation data
elevation_data <- get_elev_point(np_centroid, prj = st_crs(np_centroid), src = "aws") %>%
  arrange(elevation)

# Reorder PARKNAME by elevation
elevation_data <- elevation_data %>%
  filter(UNIT_TYPE == "National Park") %>%
  mutate(PARKNAME = fct_reorder(PARKNAME, elevation))

# Selecting Great Smoky Mountains for highlighting
gsm <- elevation_data %>% 
  filter(PARKNAME == "Great Smoky Mountains")

# Interactive plot using Plotly
plot <- plot_ly(
  data = elevation_data,
  x = ~PARKNAME,
  y = ~elevation,
  type = 'scatter',
  mode = 'markers',
  text = ~paste0(
    "<b>Park Name:</b> ", PARKNAME, "<br>",
    "<b>Elevation:</b> ", elevation, " meters<br>",
    "<b>Latitude:</b> ", round(lat, 2), "<br>",
    "<b>Longitude:</b> ", round(lon, 2)
  ),
  hoverinfo = "text",
  marker = list(size = 10, color = "blue")
) %>%
  layout(
    title = "Elevation of U.S. National Parks (Ordered by Elevation)",
    xaxis = list(title = "U.S. National Park Name", tickangle = 45),
    yaxis = list(title = "Elevation (meters)")
  )

# Add a special marker for the Great Smoky Mountains
plot <- plot %>%
  add_trace(
    data = gsm,
    x = ~PARKNAME,
    y = ~elevation,
    type = 'scatter',
    mode = 'markers+text',
    text = ~paste("Great Smoky Mountains: ", elevation, "m"),
    textposition = "top center",
    marker = list(size = 12, color = "red"),
    hoverinfo = "text"
  )

# Display the plot
plot


```

Column {data-width=350}
-----------------------------------------------------------------------

### Chart B

```{r}

```

### Chart C

```{r}

```
ReadMe {data-orientation=rows}
=====================================     
   
Row {data-height=600}
-------------------------------------

### header
this setup allows for two pages, page 1 for graphs and page 2 for readme info, chart A is on top and B and C are split evenly on the bottom panel and will be the interactive graph 

info here
link to github?
where we got data from
all the info about the graphs
maybe csu logo would be cool

### Picture (not final)


```{r dpi=10}
knitr::include_graphics("images/Yosemitepic.jpg")
```
</center></a>

